<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Ajouter Classe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="container mt-4">

    <h1 th:text="${classe.classeCode} == null ? 'Ajouter une Classe' : 'Modifier la Classe'"></h1>

    <form th:action="@{/classe/save}" th:object="${classe}" method="post" class="needs-validation" novalidate>
        <div class="mb-3">
            <label for="classeCode" class="form-label">Code</label>
            <input type="number" id="classeCode" th:field="*{classeCode}" class="form-control" placeholder="Ex : 101" required />
            <div class="invalid-feedback">
                Veuillez saisir le code de la classe.
            </div>
        </div>

        <div class="mb-3">
            <label for="classeLib" class="form-label">Libellé</label>
            <input type="text" id="classeLib" th:field="*{classeLib}" class="form-control" placeholder="Ex : Classe A" required />
            <div class="invalid-feedback">
                Veuillez saisir le libellé.
            </div>
        </div>

        <div class="mb-3">
            <label for="classeNbrEleves" class="form-label">Nombre d'élèves</label>
            <input type="number" id="classeNbrEleves" th:field="*{classeNbrEleves}" class="form-control" min="0" required />
            <div class="invalid-feedback">
                Veuillez saisir un nombre valide.
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Enregistrer</button>
        <a th:href="@{/classe/list}" class="btn btn-secondary ms-2">Retour</a>
		<a th:href="@{/formateur/add}" class="btn btn-secondary ms-2">ajoutFormateur</a>
    </form>

    <script>
        // Exemple de validation Bootstrap (optionnel)
        (() => {
            'use strict';
            const forms = document.querySelectorAll('.needs-validation');
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();
    </script>

</body>
</html>
